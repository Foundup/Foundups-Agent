{
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat(liberty): Add global map view with Liberty statue markers\n\nImplements Liberty Alert global view with real-world conflict zones:\n\n1. Liberty Icon Toggle (Map Only):\n   - Removed Liberty icon from left sidebar\n   - Added ðŸ—½ button to map zoom controls\n   - Blue highlight when in global view\n   - Tap to toggle between local/global view\n\n2. Global Map View:\n   - Zoom level 2 (world map) when global enabled\n   - Shows Liberty statue markers at alert locations\n   - Larger markers in global view (5xl vs 3xl)\n   - Camera orb hidden in global view (local only)\n\n3. Liberty Statue Markers (ðŸ—½):\n   - Replaced ice cube (ðŸ§Š) with Liberty statue\n   - Hover effect (scale 1.1x)\n   - Click to show alert details\n   - Shows alert message and timestamp\n\n4. Pre-populated Alerts (Real Conflict Zones):\n   - Donetsk, Ukraine (Donbas conflict)\n   - Gaza (humanitarian crisis)\n   - Aleppo, Syria (conflict zone)\n   - Sanaa, Yemen (humanitarian crisis)\n   - Yangon, Myanmar (democracy movement)\n   - Khartoum, Sudan (conflict)\n\n5. Swipe Up Gesture:\n   - Swipe up > 50px returns to home location\n   - Only active in global view\n   - Resets zoom to local view (12)\n\n6. Updated Popups:\n   - Shows alert message instead of type\n   - Liberty statue icon in header\n   - Blue background for alert details\n\nTechnical:\n- Dynamic zoom: 2 (global) / 12 (local)\n- Framer-motion animations for Liberty button\n- Touch gesture handlers for swipe detection\n- Overlay components for custom markers\n- Conditional rendering (camera orb vs Liberty button)\n\nUser Flow:\n1. Unlock Liberty mode (SOS morse code)\n2. Open map â†’ ðŸ—½ button appears (top of zoom controls)\n3. Tap ðŸ—½ â†’ zoom out to world map\n4. See ðŸ—½ markers at conflict zones\n5. Tap marker â†’ view alert details\n6. Swipe up â†’ return to home location\n7. Tap ðŸ—½ again â†’ back to local view\n\nModule Size: 434.88 kB (+1.4 kB from Phase 1)\n\nWSP Compliance:\n- WSP 50: Pre-populated data as constants\n- WSP 87: Clear component hierarchy\n- WSP 22: ModLog will be updated post-merge\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git checkout:*)",
      "Bash(git push:*)",
      "Bash(gh pr create --title \"feat(liberty): Add global map view with real-world Liberty Alerts\" --body \"$(cat <<''EOF''\n## Summary\nAdds global Liberty Alert map view with ðŸ—½ statue markers at real-world conflict zones. Includes Liberty icon toggle (map only), swipe gestures, and pre-populated alerts.\n\n## Changes\n\n### 1. Liberty Icon Toggle (Map Only)\n- **Removed** Liberty icon from left sidebar âœ…\n- **Added** ðŸ—½ button to map zoom controls (top position)\n- Blue highlight when in global view\n- Tap to toggle between local/global view\n\n### 2. Global Map View\n- Zoom level 2 (world map) when global enabled\n- Shows Liberty statue markers at alert locations\n- Larger markers in global view (text-5xl vs text-3xl)\n- Camera orb hidden in global view (local view only)\n\n### 3. Liberty Statue Markers (ðŸ—½)\n- Replaced ice cube (ðŸ§Š) with Liberty statue icon\n- Hover effect (scale 1.1x)\n- Click to show alert details popup\n- Shows alert message and timestamp\n\n### 4. Pre-populated Alerts (Real Conflict Zones)\nSix sample Liberty Alerts at known conflict zones:\n- ðŸ—½ **Donetsk, Ukraine** - Donbas conflict zone\n- ðŸ—½ **Gaza** - Humanitarian crisis\n- ðŸ—½ **Aleppo, Syria** - Conflict zone\n- ðŸ—½ **Sanaa, Yemen** - Humanitarian crisis\n- ðŸ—½ **Yangon, Myanmar** - Democracy movement\n- ðŸ—½ **Khartoum, Sudan** - Conflict\n\n### 5. Swipe Up Gesture\n- Swipe up > 50px returns to home location\n- Only active in global view\n- Resets zoom to local view (zoom=12)\n\n### 6. Updated Popups\n- Shows alert message instead of type\n- Liberty statue icon in header\n- Blue background for alert details\n- Close button to dismiss\n\n## User Flow\n\n1. **Unlock Liberty mode** (SOS morse code: `...___...`)\n2. **Open map** â†’ ðŸ—½ button appears at top of zoom controls\n3. **Tap ðŸ—½** â†’ zoom out to world map\n4. **See ðŸ—½ markers** at conflict zones worldwide\n5. **Tap marker** â†’ view alert details (message, timestamp)\n6. **Swipe up** â†’ return to home location\n7. **Tap ðŸ—½ again** â†’ back to local view\n\n## Technical Details\n\n**State Management**:\n- `isGlobalLiberty` state for view toggle\n- `touchStartY/touchEndY` refs for swipe detection\n- Dynamic zoom: 2 (global) / 12 (local)\n\n**Components Modified**:\n- `PigeonMapView.tsx` - Added Liberty toggle, swipe gesture, marker updates\n- `LeftSidebarNav.tsx` - Removed Liberty icon (map only now)\n- `App.tsx` - Pre-populated Liberty Alerts\n\n**Styling**:\n- Framer-motion animations for Liberty button\n- Conditional marker sizes (isGlobalView)\n- Blue highlight for active state\n- Hover effects on markers\n\n**Gestures**:\n- Touch start/end handlers for swipe detection\n- Swipe threshold: 50px vertical distance\n- Combined with existing SOS morse code detection\n\n## Module Size\n- Before (Phase 1): 433.47 kB\n- After (Phase 2): 434.88 kB\n- Increase: +1.4 kB (minimal)\n\n## Testing Checklist\n\n- [ ] Unlock Liberty mode via SOS morse code\n- [ ] Verify Liberty icon appears on map (not sidebar)\n- [ ] Tap Liberty icon â†’ zoom to world view\n- [ ] Verify 6 Liberty statue markers appear\n- [ ] Tap marker â†’ popup shows alert details\n- [ ] Swipe up â†’ returns to home location\n- [ ] Tap Liberty icon again â†’ back to local view\n- [ ] Verify camera orb only shows in local view\n\n## WSP Compliance\n- âœ… WSP 50: Reused existing Camera component\n- âœ… WSP 87: Clear component hierarchy\n- âœ… WSP 22: ModLog will be updated post-merge\n\n## Dependencies\n- Based on PR #105 (Liberty Alert camera orb)\n- Merge PR #105 first before this one\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\nEOF\n)\" --base main)",
      "Bash(git commit:*)",
      "Bash(gh pr create:*)"
    ],
    "deny": [],
    "ask": []
  }
}
