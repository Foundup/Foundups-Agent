# WSP 64: Violation Prevention Protocol
- **Status:** Active
- **Purpose:** To prevent WSP framework violations through mandatory consultation and validation before any WSP creation, modification, or reference.
- **Trigger:** Before creating new WSPs, modifying existing WSPs, or implementing protocol-related functionality.
- **Input:** Proposed WSP creation, modification, or protocol implementation.
- **Output:** Validated approach that prevents violations and enhances system coherence.
- **Responsible Agent(s):** All agents, with ComplianceAgent monitoring and enforcement.

[SEMANTIC SCORE: 2.2.2]
[ARCHIVE STATUS: ACTIVE_PARTIFACT]
[ORIGIN: WSP_agentic/tests/cmst_protocol_v11_neural_network_adapters.py - Created from WSP 58 violation analysis]

# üìã WSP 64: Violation Prevention Protocol

This protocol transforms potential violations into system memory enhancements, following the zen principle that "every violation teaches the system to remember better patterns."

## 64.1. Mandatory WSP Consultation Protocol

### **CRITICAL REQUIREMENT**: WSP_MASTER_INDEX.md Consultation

Before any WSP-related action, agents **MUST**:

1. **Consult WSP_MASTER_INDEX.md** - Complete catalog of all existing WSPs
2. **Search for existing protocols** that cover the same domain/purpose  
3. **Verify next available WSP number** (currently WSP 72)
4. **Check relationships** to determine enhancement vs. new creation
5. **Validate naming compliance** per WSP 57 standards

### **Violation Prevention Checklist**

- [ ] Searched WSP_MASTER_INDEX.md for existing coverage
- [ ] Confirmed no duplicate functionality exists
- [ ] Verified next available WSP number
- [ ] Checked WSP relationships and dependencies
- [ ] Validated naming convention compliance
- [ ] Confirmed three-state architecture synchronization

## 64.2. **UNIFIED SCORING FRAMEWORK COMPLIANCE** (Critical Addition)

### **Scoring System Violation Prevention**

**MANDATORY CONSULTATION**: Before implementing any scoring, priority, or assessment system:

#### **64.2.1. Established Unified Framework**
The WSP framework has an **established unified scoring system**:

```
WSP 25/44 (Foundational Driver) ‚Üí WSP 15 ‚Üí WSP 37 ‚Üí WSP 8
000-222 Semantic States ‚Üí MPS Scores ‚Üí Cube Colors ‚Üí LLME Triplets
```

#### **64.2.2. Prohibited Actions**
- **‚ùå NEVER** create independent scoring systems without WSP 25/44 foundation
- **‚ùå NEVER** implement custom rating scales outside unified framework
- **‚ùå NEVER** bypass semantic state assessment for priority calculation

#### **64.2.3. Required Integration**
- **‚úÖ ALWAYS** start with WSP 25/44 semantic state assessment
- **‚úÖ ALWAYS** derive MPS scores from semantic states (WSP 15)
- **‚úÖ ALWAYS** map to cube colors through established protocol (WSP 37)
- **‚úÖ ALWAYS** integrate with LLME triplet assessment (WSP 8)

## 64.3. **MODULE ASSESSMENT ERROR PREVENTION** (Critical Addition)

### **Critical Assessment Error Pattern**
**VIOLATION TYPE**: Claims about WSP compliance, test coverage, or module completeness without evidence-based verification.

**EXAMPLE VIOLATION**: Claiming "WSP 5 PERFECT COMPLIANCE (100%)" when `TestModLog.md` shows different results.

### **Mandatory Assessment Protocol**

Before making ANY claims about module status:

#### **64.3.1. Evidence-Based Assessment Sequence**
```
1. READ TestModLog.md FIRST (if exists)
2. VERIFY actual test execution results  
3. CONFIRM pass/fail rates from documented evidence
4. CROSS-CHECK claims against documented facts
5. BASE all assessments on verified evidence only
```

#### **64.3.2. Assessment Prevention Rules**
- **‚ùå PROHIBITED**: Claims without TestModLog.md verification
- **‚ùå PROHIBITED**: Assessments based on file counts alone
- **‚ùå PROHIBITED**: Compliance claims without evidence
- **‚ùå PROHIBITED**: Status declarations without documentation review

#### **64.3.3. Required Verification**
- **‚úÖ MANDATORY**: Read TestModLog.md before any test assessment
- **‚úÖ MANDATORY**: Verify documented test results match claims
- **‚úÖ MANDATORY**: Cross-reference module documentation for accuracy
- **‚úÖ MANDATORY**: Base all claims on documented evidence

### **ComplianceAgent Enhanced Duties**

The ComplianceAgent monitoring system includes:

- **Assessment Accuracy Monitoring**: Detecting claims vs. evidence mismatches
- **TestModLog.md Verification**: Ensuring proper test documentation consultation
- **Evidence-Based Assessment**: Requiring documentation-backed claims
- **WSP Violation Learning**: Converting assessment errors into framework improvements

## 64.4. **MANDATORY PRE-CREATION VERIFICATION** ‚ú® **NEW CRITICAL ENHANCEMENT**

### **ARCHITECTURAL COMPONENT CREATION PROTOCOL**

Before creating ANY new file, directory, or component, agents **MUST** complete:

#### **64.4.1. Domain Placement Verification (WSP 3 Compliance)**
```
1. ANALYZE component purpose and functionality
2. CONSULT WSP 3 Enterprise Domain Organization
3. VERIFY correct enterprise domain placement:
   - ai_intelligence/ - AI logic, LLMs, decision engines
   - communication/ - Chat, messages, protocols
   - platform_integration/ - External APIs, authentication
   - infrastructure/ - Core systems, agents, auth
   - foundups/ - FoundUps platform infrastructure
   - gamification/ - Engagement mechanics, rewards
   - blockchain/ - Decentralized infrastructure
   - development/ - Tools, testing, utilities
4. CONFIRM functional distribution vs platform consolidation
5. VALIDATE cross-cutting component placement
```

#### **64.4.2. Module Structure Verification (WSP 49 Compliance)**
```
1. CONFIRM standard module structure:
   modules/[domain]/[module]/
   ‚îú‚îÄ‚îÄ src/
   ‚îú‚îÄ‚îÄ tests/
   ‚îú‚îÄ‚îÄ memory/
   ‚îú‚îÄ‚îÄ README.md
   ‚îú‚îÄ‚îÄ INTERFACE.md
   ‚îî‚îÄ‚îÄ requirements.txt
2. VERIFY no redundant naming patterns
3. VALIDATE WSP 60 memory architecture compliance
4. ENSURE proper module isolation and independence
```

#### **64.4.3. Architectural Coherence Analysis (WSP 40 Compliance)**
```
1. ASSESS architectural impact of new component
2. ANALYZE integration patterns with existing modules
3. VERIFY interface consistency (WSP 11)
4. CONFIRM dependency management compliance (WSP 12)
5. VALIDATE test coverage requirements (WSP 5)
```

#### **64.4.4. Documentation Requirements (WSP 22 Compliance)**
```
1. PLAN ModLog.md updates for new component
2. PREPARE INTERFACE.md documentation (WSP 11)
3. DESIGN README.md with WSP compliance status
4. OUTLINE test documentation (WSP 34)
```

### **64.4.5. MANDATORY APPROVAL GATE**

**NO FILE/COMPONENT CREATION PERMITTED** until:
- [ ] Domain placement verified and approved
- [ ] Module structure validated
- [ ] Architectural coherence confirmed  
- [ ] Documentation plan established
- [ ] WSP compliance pathway clear

**VIOLATION CONSEQUENCE**: Any component created without this verification must be immediately relocated or restructured to achieve WSP compliance.

## 64.5. **VIOLATION DETECTION AND CORRECTION**

### **Automated Detection Patterns**
- **Improper Domain Placement**: Components in wrong enterprise domains
- **Module Structure Violations**: Redundant naming or missing directories  
- **Assessment Inaccuracies**: Claims not backed by documented evidence
- **Scoring System Violations**: Independent systems bypassing WSP 25/44

### **Correction Workflow**
1. **Immediate Violation Identification**: Flag violation with specific WSP references
2. **Impact Assessment**: Analyze downstream effects of violation
3. **Correction Strategy**: Develop WSP-compliant resolution plan
4. **Framework Enhancement**: Update protocols to prevent similar violations
5. **Validation**: Confirm correction achieves full WSP compliance

### **Learning Integration**
Each violation becomes:
- **System Memory Enhancement**: Update prevention protocols
- **Framework Strengthening**: Enhance existing WSPs
- **Pattern Recognition**: Improve automated detection
- **Agent Education**: Share violation patterns across all agents

---

## üåÄ **WSP Recursive Instructions**
```
üåÄ Windsurf Protocol (WSP) Recursive Prompt
0102 Directive: This enhanced violation prevention protocol establishes iron-clad 
requirements that PREVENT architectural violations during autonomous development.

- UN (Understanding): Anchor violation prevention patterns and retrieve mandatory verification protocols
- DAO (Execution): Execute mandatory pre-creation verification and architectural coherence validation
- DU (Emergence): Collapse into violation-proof architecture and emit enforcement supremacy

wsp_cycle(input="violation_prevention", log=True)
```

## üÜï **CRITICAL WSP CREATION VIOLATION PREVENTION**

### **64.6. WSP Creation Violation Prevention**

**CRITICAL VIOLATION PATTERN**: Attempting to create new WSPs without following WSP 64 mandatory consultation protocols.

**EXAMPLE VIOLATION**: Attempting to create "WSP 73: Proactive Module Architecture Protocol" without consulting WSP_MASTER_INDEX.md first.

### **64.6.1. Mandatory WSP Creation Protocol**

**BEFORE ANY WSP CREATION ATTEMPT**:

#### **Step 1: WSP_MASTER_INDEX.md Consultation (MANDATORY)**
```
1. READ WSP_MASTER_INDEX.md completely
2. SEARCH for existing WSPs covering the same purpose
3. VERIFY next available WSP number
4. CHECK WSP relationships and dependencies
5. DETERMINE if enhancement vs. new creation is appropriate
```

#### **Step 2: Violation Prevention Checklist**
- [ ] ‚úÖ Consulted WSP_MASTER_INDEX.md completely
- [ ] ‚úÖ Searched for existing WSPs with same purpose
- [ ] ‚úÖ Confirmed no duplicate functionality exists
- [ ] ‚úÖ Verified next available WSP number
- [ ] ‚úÖ Checked WSP relationships and dependencies
- [ ] ‚úÖ Determined enhancement vs. new creation approach
- [ ] ‚úÖ Validated naming convention compliance (WSP 57)

#### **Step 3: Decision Matrix**
```
IF existing WSP covers purpose:
  ‚Üí ENHANCE existing WSP (do not create new)
IF no existing WSP covers purpose:
  ‚Üí CREATE new WSP with proper number
IF unclear:
  ‚Üí CONSULT WSP_MASTER_INDEX.md again
```

### **64.6.2. WSP Creation Violation Consequences**

**CRITICAL VIOLATION**: Creating WSPs without index consultation
- **Immediate Block**: Prevent WSP creation until consultation complete
- **Violation Recording**: Log violation in WSP_MODULE_VIOLATIONS.md
- **System Enhancement**: Update prevention protocols
- **Agent Education**: Share violation pattern across all agents

### **64.6.3. Cursor Rules Integration**

**MANDATORY CURSOR RULES FOR WSP CREATION**:

**RULE 1: WSP_MASTER_INDEX.md Consultation**
- **MANDATORY**: Before ANY WSP creation, read WSP_MASTER_INDEX.md completely
- **MANDATORY**: Search for existing WSPs covering the same purpose
- **MANDATORY**: Verify next available WSP number
- **VIOLATION**: Creating WSPs without index consultation is a critical violation

**RULE 2: Enhancement vs. Creation Decision**
- **MANDATORY**: Determine if enhancement of existing WSP is more appropriate
- **MANDATORY**: Check WSP relationships and dependencies
- **MANDATORY**: Validate naming convention compliance (WSP 57)
- **VIOLATION**: Creating new WSPs when enhancement is appropriate

**RULE 3: WSP Creation Validation**
- **MANDATORY**: Complete violation prevention checklist before creation
- **MANDATORY**: Document decision rationale in ModLog
- **MANDATORY**: Update WSP_MASTER_INDEX.md after creation
- **VIOLATION**: Creating WSPs without proper validation and documentation

### **64.6.4. Automated Prevention System**

**PRE-CREATION BLOCKS**:
- **Block WSP Creation**: Prevent creation without checklist completion
- **Warn Violations**: Display WSP 64 violation warnings
- **Guide Correction**: Provide consultation guidance
- **Enhance Learning**: Record violations for pattern memory

**POST-CREATION VALIDATION**:
- **Verify Index Update**: Confirm WSP_MASTER_INDEX.md updated
- **Check Relationships**: Validate WSP relationship documentation
- **Test Integration**: Ensure new WSP integrates properly
- **Document Changes**: Update all related documentation

---

**Last Updated**: 2025-01-29  
**WSP Compliance**: WSP 50 (Pre-Action Verification), WSP 57 (Naming Coherence), WSP 60 (Memory Architecture), WSP 54 (Agent Coordination)  
**Integration Status**: Ready for immediate implementation with **Cursor Rules Integration** and **Automated Prevention System** 